import{a as k,i as X,g as z,c as j,d as Z,b as J,r as S,s as N,o as D,e as G,f as K}from"./vendor-60358816.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const $={bookIdsLSKey:"booksId"};async function we(t,e=""){k.defaults.baseURL="https://books-backend.p.goit.global/books/";let s={};if(e){const r=e.split(" ").join("%20");s.category=r}return await k.get(t,{params:s,paramsSerializer:r=>Object.keys(r).map(o=>`${o}=${r[o]}`).join("&")})}function v(t,e){try{const s=JSON.stringify(e);localStorage.setItem(t,s)}catch(s){console.error("Error adding to localStorage:",s)}}function _(t){try{localStorage.getItem(t)&&localStorage.removeItem(t)}catch(e){console.error("Error removing from localStorage:",e)}}function ee(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(e){return console.error("Error getting from localStorage:",e),null}}const x=document.querySelector(".loader-container"),Pe=()=>{x.classList.remove("visually-hidden")},Be=()=>{x.classList.add("visually-hidden")},te=document.querySelector(":root"),se=document.querySelector("#toggle");se.addEventListener("click",oe);function oe(t){t.preventDefault(),te.classList.toggle("dark-theme")}const re={apiKey:"AIzaSyAU9vmqTZLyoAQQ-FXLYuEWvBcdBAw2N_s",authDomain:"bookworms-de9f1.firebaseapp.com",databaseURL:"https://bookworms-de9f1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bookworms-de9f1",storageBucket:"bookworms-de9f1.appspot.com",messagingSenderId:"67746495730",appId:"1:67746495730:web:2051c7fd00eaf14945646b"},Y=X(re),F=z(Y),L=j(Y);function g(t,e){return t?Z.show({title:"Success",titleColor:"#fff",titleSize:"16",titleLineHeight:"1.5",message:e,messageColor:"#fff",messageSize:"16",messageLineHeight:"1.5",backgroundColor:"#59a10d",position:"topRight"}):Z.show({title:"Error",titleColor:"#fff",titleSize:"16",titleLineHeight:"1.5",message:e,messageColor:"#fff",messageSize:"16",messageLineHeight:"1.5",backgroundColor:"#ef4040",position:"topRight"})}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("menuBtn"),e=document.getElementById("closeBtn"),s=document.getElementById("modalBackdrop");t.addEventListener("click",r),e.addEventListener("click",r);function r(){s.style.display==="flex"?(n(),document.body.style.overflow="visible",t.classList.add("is-open-burger"),t.classList.remove("is-closed-burger"),e.classList.add("is-closed-burger"),e.classList.remove("is-open-burger")):(o(),document.body.style.overflow="hidden",t.classList.add("is-closed-burger"),t.classList.remove("is-open-burger"),e.classList.add("is-open-burger"),e.classList.remove("is-closed-burger"))}function o(){s.style.display="flex",setTimeout(()=>{s.style.opacity=1,s.style.transform="translateY(0)"},10)}function n(){s.style.opacity=0,s.style.transform="translateY(20px)",setTimeout(()=>{s.style.display="none"},300)}s.addEventListener("click",function(a){a.target===s&&(n(),toggleButtons())})});const ne=document.querySelector(".btn-burger"),p=document.querySelector(".btn-register-modal"),b=document.querySelector(".btn-sign-in"),y=document.querySelector(".btn-sign-logout");ne.addEventListener("click",Q);function Q(){u?(p.classList.add("is-closed-burger"),b.classList.add("is-open-burger"),y.classList.add("is-open-burger"),p.classList.remove("is-open-burger"),b.classList.remove("is-closed-burger"),y.classList.remove("is-closed-burger")):(p.classList.add("is-open-burger"),b.classList.add("is-closed-burger"),y.classList.add("is-closed-burger"),p.classList.remove("is-closed-burger"),b.classList.remove("is-open-burger"),y.classList.remove("is-open-burger"))}y.addEventListener("click",()=>{T(),location.reload()});p.addEventListener("click",O);const B="/project-bookworms/assets/icons-0b2e748f.svg",{bookIdsLSKey:R}=$,q="user-data",m=ee("user-data");let c=m&&m.name?m.name:"",l=m&&m.uid?m.uid:"",u=!!c;const H=document.querySelector(".btn-register-login"),C=document.querySelector(".btn-register"),ie=document.querySelector(".name-user-login"),ae=document.querySelector(".user-name-modal");function V(){u?(H.classList.add("is-open-register"),H.classList.remove("is-closed-register"),C.classList.add("is-closed-register"),C.classList.remove("is-open-register"),ie.textContent=c,ae.textContent=c):(H.classList.add("is-closed-register"),H.classList.remove("is-open-register"),C.classList.add("is-open-register"),C.classList.remove("is-closed-register"))}V();async function ce(t=[]){const e={name:c,uid:l,shopList:t};try{const s=S(L,`users/${e.uid}`),r=await N(s,e)}catch(s){console.error("Error while saving shoplist to Realtime Database:",s)}}function le(t=l){return new Promise(e=>{const s=S(L,`users/${t}`);D(s,r=>{const o=r.val();e(o?o.name:"")})})}async function ue(t=l){try{return await le(t)}catch(e){console.log("Server error: ",e),g(!1,"Server error")}}function de(t=l){const e=S(L,`users/${t}`);D(e,s=>{const r=s.val();r?r.shopList?v(R,r.shopList):v(R,[]):console.log("error while copying from Realtime Database to localstorage")})}function O(){const t=J.create(`
  <div class="auth-modal">
    <button class="auth-close-btn" type="button">
      <svg class="auth-close-icon" width="20" height="20">
        <use href="${B}#icon-x-close"></use>
      </svg>
    </button>

    <form class="auth-form">
      <div class="auth-inputs-wrapper">
        <input
          class="auth-form-input"
          type="text"
          name="name"
          id="auth-name"
          placeholder="name"
          maxlength="20"
          required
        />

        <div class="auth-email-wrapper">
          <input
            class="auth-form-input"
            type="email"
            name="email"
            id="auth-email"
            placeholder="email"
            required
          />
          <svg class="auth-input-icon-mail" width="15" height="12">
            <use href="${B}#icon-mail"></use>
          </svg>
        </div>

        <div class="auth-password-wrapper">
          <input
            class="auth-form-input"
            type="password"
            name="password"
            id="auth-password"
            placeholder="password"
            maxlength="20"
            required
          />
          <svg class="auth-input-icon-mail" width="14" height="14">
            <use href="${B}#icon-lock"></use>
          </svg>
        </div>
      </div>

      <button class="auth-submit-btn" type="submit">Sign up</button>
    </form>

    <ul class="auth-sign-list">
      <li class="auth-sign-item">
        <button class="sign-up-btn current-sign" type="button">sign up</button>
      </li>

      <li class="auth-sign-item">
        <button class="sign-in-btn" type="button">sIGN In</button>
      </li>
    </ul>
  </div>
  `,{onShow:i=>{i.element().querySelector(".auth-close-btn").onclick=i.close,document.addEventListener("keydown",e),document.body.style.overflow="hidden"},onClose:i=>{V(),Q(),document.removeEventListener("keydown",e),document.body.style.overflow="visible"}});t.show(),document.querySelector(".basicLightbox").style.backgroundColor="#4f2ee8";function e(i){i.key==="Escape"&&t.close()}const s=document.querySelector(".auth-modal"),r=document.querySelector("#auth-name"),o=document.querySelector(".auth-form"),n=document.querySelector(".auth-submit-btn"),a=document.querySelector(".sign-in-btn"),f=document.querySelector(".sign-up-btn");a.addEventListener("click",i=>{r.classList.add("auth-name-hidden"),a.classList.toggle("current-sign"),f.classList.toggle("current-sign"),s.classList.add("auth-modal-sign-in"),n.textContent="Sign in",r.removeAttribute("required")}),f.addEventListener("click",i=>{r.classList.remove("auth-name-hidden"),a.classList.toggle("current-sign"),f.classList.toggle("current-sign"),s.classList.remove("auth-modal-sign-in"),n.textContent="Sign up",r.setAttribute("required","true")}),o.addEventListener("submit",E);async function E(i){i.preventDefault();const I=i.target.elements[3].textContent.toLowerCase(),h=i.target.elements.name.value.trim(),d=i.target.elements.email.value.trim(),w=i.target.elements.password.value.trim();if(I==="sign up")try{const A=await fe(d,w);if(u==!0){const P={uid:A.uid,name:h,mail:d};c=h,v(q,P),ce(),o.reset(),t.close(),g(!0,"Registration successfull!")}}catch{g(!1,"Error")}if(I==="sign in")try{const A=await Ae(d,w);if(u==!0){const P={uid:A.uid,name:c,mail:d};v(q,P),de(),location.reload(),o.reset(),t.close(),g(!0,"Signed in successfull!")}}catch{g(!1,"Error")}}}async function ge(t,e){try{return(await G(F,t,e)).user}catch(s){throw console.error("Registration error:",s.message),s}}async function me(t,e){try{return await(await K(F,t,e)).user}catch(s){throw console.error("Sign-in error:",s.message),s}}async function fe(t,e){try{const s=await ge(t,e);return u=!0,l=s.uid,await s}catch{u=!1,c="",l="",console.log("Registration error!"),g(!1,"Registration error!")}}async function Ae(t,e){try{const s=await me(t,e);return u=!0,l=await s.uid,c=await ue(),s}catch{u=!1,c="",l="",console.log("Login error!"),g(!1,"Login error!")}}function T(){_("user-data"),l="",c="",u=!1}const pe=document.getElementById("toggle"),ye=document.querySelector(".switch-slider"),Ie=document.querySelector(".label-header");pe.addEventListener("change",function(){ye.classList.toggle("active"),Ie.style.background=this.checked?"linear-gradient(180deg, #4f2ee8 0%, #686868 100%)":"linear-gradient(180deg, #4f2ee8 0%, #fff 100%)"});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".btn-register-login"),e=document.getElementById("popupContainer");t.addEventListener("click",function(){e.style.display=e.style.display==="block"?"none":"block"}),document.addEventListener("click",function(s){!t.contains(s.target)&&!e.contains(s.target)&&(e.style.display="none")})});const he=document.querySelector(".btn-register");he.addEventListener("click",O);const be=document.querySelector(".btn-popup");be.addEventListener("click",()=>{T(),location.reload()});const He=window.location.pathname,M=document.querySelectorAll(".item-menu-header"),U=document.querySelectorAll(".nav-menu-link");function Ce(){He.includes("/shopping-list.html")?(M[1].classList.add("is-active-burger"),U[1].classList.add("is-active-burger")):(M[0].classList.add("is-active-burger"),U[0].classList.add("is-active-burger"))}Ce();const Ze="data:image/png;base64,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",ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN4SURBVHgB7VdLaBRBEH3Vk91VokYFv/EQA0bjwQ8i8RAEiRc/KCp4EsWLN8GDiF48BmL8YC4aUERv6inghxwSEUQCQTQBMRdjkHzRIEmUmM1ulzUzSXZ6ZnZ2jOstBc1sd7+uel1d1V0LLIgrFDXJD1NVWZ2pJdAqBSTB0XifZtYa0wwetBJWJ51Of8oPDTN+H5sZicfyczv+VWwL7PzqJTVdR2fRFwYxCTQnt7DFHTJVhmILI0NJ7KIz6W7vcEkAR3gJrYpPYNZemp8wo5poxj8iyovI3E0eFxYVzrQ09n2L0bSmzdnm1AGTmUeIaR+zeULs+xZDJNAPyedFOAlNlWEJQCVLgcrDQKJU2GSBsT5wf5tMKBNXvhdYWglYSWByGBjpBP8aCuojrPf2zZhgShmxKudAuy+DdlwAUstMRSPvwK2nwBNfQaXlwP57oA17TWtTY0BnA7irCYYvNZZ4YcZWdFYpAWC2UcVRUM3VAAFH1uwSww8EJ0SPtAQJ2JIqA9XWgypPwKtXNqciPOF4I9cv3YAoofV7wMuqgZXVkTgsWiPGvR42j9wkoX3xwDEuyBXbCmNsPV7dPrUBEt4soDgpQYnCGDvNPST8W/OR8EF0DE/EIco+Xb7d+WJC/f2FMB8SiIqJLJwkNhbHMRAHY8RXlCdstga28HFwnOB1AtPTpwhP2MFDzstiM7ULAhQuIDQKikNUq7xLAjHB7BJw+zF2GTN42WOZaJ4xwb/lCv7e6/Cj8p3hmOw0MCqYScGurgItXp4jGvuesHfOvh0MdEE/vyJF2ntRlHEHFy2HqjkHVXdpDq/bb4I77oAnf8xtxCarjjWFZEcUCS2+oFw9xh9boDsfyfg0cuzI2al+1Sgvj+UQ16310G9uuRCaCUI7tvo/IHu7VjxSZnqMI0hIPTHhRrvLmsdHc4ZDQlS3XQcqauWVfOoSmvGe8YUl3vkJ463UPJWXhFQ9Q/mc5glX7wrg82uZs6QWibvGHqcv3r7xpCpWz+w0DbSZB8j+BueVOxfSEKKH3fep3WuXfMwpfXFtjxxnFf6f9CUbhzcinyfs3CDLOilezsylVTFbFuMJooN+Vso/kGwY6EoksEnc0lusCttNUe5mUjV0bSjwTyzyups6v3YrlVi75RTXiY8S8R6KWc1S97FKy4pvbOFt6sZgDxakgPwBnSGqSUuOBR0AAAAASUVORK5CYII=";document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".support-btn"),e=document.querySelector(".support-list");t.addEventListener("click",function(){t.classList.contains("scroll-up")?(e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),t.classList.remove("scroll-up")):(e.scrollTo({top:0,behavior:"smooth"}),t.classList.add("scroll-up"))})});const ve=document.querySelector(".form-footer");ve.addEventListener("submit",Se);async function Se(t){t.preventDefault();const e=t.target,s=e.elements.phone.value.trim();s!==""&&(await Le(s),Z.success({titleSize:"16",titleLineHeight:"1.5",message:'We"l call you in 1 hour!',messageColor:"#111",messageSize:"16",messageLineHeight:"1.5",backgroundColor:"#eac645",position:"topRight"}),e.reset())}async function Le(t){const e=new Date,s=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),n=e.getHours(),a=e.getMinutes(),f=e.getSeconds(),E=Date.now(),i=`${s}-${r}-${o}`,I=`${n}:${a}:${f}`,h={phoneNumber:t,currentTime:I};try{const d=S(L,`callbacks/${i}/${E}`),w=await N(d,h)}catch(d){console.error("Error while phone number to Realtime Database:",d)}}let W=()=>{let t=document.querySelector(".scroll-container");document.documentElement.scrollTop>100?t.style.display="grid":t.style.display="none",t.addEventListener("click",()=>{document.documentElement.scrollTop=0})};window.addEventListener("scroll",W);window.addEventListener("load",W);export{Ze as a,ke as b,g as c,ee as d,v as e,u as f,we as g,Pe as h,B as i,Be as j,$ as r,ce as s};
//# sourceMappingURL=scroll-up-b81b2e65.js.map
