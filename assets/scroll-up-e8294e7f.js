import{a as M,i as $,g as _,c as ee,d as U,b as te,r as S,s as F,o as T,e as se,f as oe}from"./vendor-a536f886.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const re={bookIdsLSKey:"booksId",booksContainer:document.querySelector(".books-container"),categoriesList:document.querySelector(".categories-list")};async function we(t,e=""){M.defaults.baseURL="https://books-backend.p.goit.global/books/";let s={};if(e){const r=e.split(" ").join("%20");s.category=r}return await M.get(t,{params:s,paramsSerializer:r=>Object.keys(r).map(o=>`${o}=${r[o]}`).join("&")})}function h(t,e){try{const s=JSON.stringify(e);localStorage.setItem(t,s)}catch(s){console.error("Error adding to localStorage:",s)}}function Q(t){try{localStorage.getItem(t)&&localStorage.removeItem(t)}catch(e){console.error("Error removing from localStorage:",e)}}function V(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(e){return console.error("Error getting from localStorage:",e),null}}const O=document.querySelector(".loader-container"),Pe=()=>{O.classList.remove("visually-hidden")},Be=()=>{O.classList.add("visually-hidden")},q=document.getElementById("toggle"),k=document.querySelector(".switch-slider"),Z=document.querySelector(".label-header"),R=document.querySelector(":root");q.addEventListener("change",ne);function ne(){q.checked?(R.classList.add("dark-theme"),k.classList.add("active"),Z.style.background="linear-gradient(180deg, #4f2ee8 0%, #686868 100%)",h("theme","dark")):(R.classList.remove("dark-theme"),k.classList.remove("active"),Z.style.background="linear-gradient(180deg, #4f2ee8 0%, #fff 100%)",Q("theme"))}function ae(){V("theme")&&(R.classList.add("dark-theme"),k.classList.add("active"),Z.style.background="linear-gradient(180deg, #4f2ee8 0%, #686868 100%)",q.checked=!0)}ae();const ie={apiKey:"AIzaSyAU9vmqTZLyoAQQ-FXLYuEWvBcdBAw2N_s",authDomain:"bookworms-de9f1.firebaseapp.com",databaseURL:"https://bookworms-de9f1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bookworms-de9f1",storageBucket:"bookworms-de9f1.appspot.com",messagingSenderId:"67746495730",appId:"1:67746495730:web:2051c7fd00eaf14945646b"},W=$(ie),X=_(W),L=ee(W);function c(t,e){return t?U.show({title:"Success",titleColor:"#fff",titleSize:"16",titleLineHeight:"1.5",message:e,messageColor:"#fff",messageSize:"16",messageLineHeight:"1.5",backgroundColor:"#59a10d",position:"topRight"}):U.show({title:"Error",titleColor:"#fff",titleSize:"16",titleLineHeight:"1.5",message:e,messageColor:"#fff",messageSize:"16",messageLineHeight:"1.5",backgroundColor:"#ef4040",position:"topRight"})}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("menuBtn"),e=document.getElementById("closeBtn"),s=document.getElementById("modalBackdrop");t.addEventListener("click",r),e.addEventListener("click",r);function r(){s.style.display==="flex"?(n(),document.body.style.overflow="visible",t.classList.add("is-open-burger"),t.classList.remove("is-closed-burger"),e.classList.add("is-closed-burger"),e.classList.remove("is-open-burger")):(o(),document.body.style.overflow="hidden",t.classList.add("is-closed-burger"),t.classList.remove("is-open-burger"),e.classList.add("is-open-burger"),e.classList.remove("is-closed-burger"))}function o(){s.style.display="flex",setTimeout(()=>{s.style.opacity=1,s.style.transform="translateY(0)"},10)}function n(){s.style.opacity=0,s.style.transform="translateY(20px)",setTimeout(()=>{s.style.display="none"},300)}s.addEventListener("click",function(i){i.target===s&&(n(),toggleButtons())})});const ce=document.querySelector(".btn-burger"),y=document.querySelector(".btn-register-modal"),H=document.querySelector(".btn-sign-in"),p=document.querySelector(".btn-sign-logout");ce.addEventListener("click",z);function z(){d?(y.classList.add("is-closed-burger"),H.classList.add("is-open-burger"),p.classList.add("is-open-burger"),y.classList.remove("is-open-burger"),H.classList.remove("is-closed-burger"),p.classList.remove("is-closed-burger")):(y.classList.add("is-open-burger"),H.classList.add("is-closed-burger"),p.classList.add("is-closed-burger"),y.classList.remove("is-closed-burger"),H.classList.remove("is-open-burger"),p.classList.remove("is-open-burger"))}p.addEventListener("click",()=>{G(),location.reload()});y.addEventListener("click",J);const B="/project-bookworms/assets/icons-0b2e748f.svg",{bookIdsLSKey:N}=re,x="user-data",m=V("user-data");let l=m&&m.name?m.name:"",u=m&&m.uid?m.uid:"",d=!!l;const v=document.querySelector(".btn-register-login"),C=document.querySelector(".btn-register"),le=document.querySelector(".name-user-login"),ue=document.querySelector(".user-name-modal");function j(){d?(v.classList.add("is-open-register"),v.classList.remove("is-closed-register"),C.classList.add("is-closed-register"),C.classList.remove("is-open-register"),le.textContent=l,ue.textContent=l):(v.classList.add("is-closed-register"),v.classList.remove("is-open-register"),C.classList.add("is-open-register"),C.classList.remove("is-closed-register"))}j();async function de(t=[]){const e={name:l,uid:u,shopList:t};try{const s=S(L,`users/${e.uid}`),r=await F(s,e)}catch(s){console.error("Error while saving shoplist to Realtime Database:",s)}}function ge(t=u){return new Promise(e=>{const s=S(L,`users/${t}`);T(s,r=>{const o=r.val();e(o?o.name:"")})})}async function me(t=u){try{return await ge(t)}catch(e){console.log("Server error: ",e),c(!1,"Server error")}}function fe(t=u){const e=S(L,`users/${t}`);T(e,s=>{const r=s.val();r?r.shopList?h(N,r.shopList):h(N,[]):console.log("error while copying from Realtime Database to localstorage")})}function J(){const t=te.create(`
  <div class="auth-modal">
    <button class="auth-close-btn" type="button">
      <svg class="auth-close-icon" width="20" height="20">
        <use href="${B}#icon-x-close"></use>
      </svg>
    </button>

    <form class="auth-form">
      <div class="auth-inputs-wrapper">
        <input
          class="auth-form-input"
          type="text"
          name="name"
          id="auth-name"
          placeholder="name"
          maxlength="20"
          required
        />

        <div class="auth-email-wrapper">
          <input
            class="auth-form-input"
            type="email"
            name="email"
            id="auth-email"
            placeholder="email"
            required
          />
          <svg class="auth-input-icon-mail" width="15" height="12">
            <use href="${B}#icon-mail"></use>
          </svg>
        </div>

        <div class="auth-password-wrapper">
          <input
            class="auth-form-input"
            type="password"
            name="password"
            id="auth-password"
            placeholder="password"
            maxlength="20"
            required
          />
          <svg class="auth-input-icon-mail" width="14" height="14">
            <use href="${B}#icon-lock"></use>
          </svg>
        </div>
      </div>

      <button class="auth-submit-btn" type="submit">Sign up</button>
    </form>

    <ul class="auth-sign-list">
      <li class="auth-sign-item">
        <button class="sign-up-btn current-sign" type="button">sign up</button>
      </li>

      <li class="auth-sign-item">
        <button class="sign-in-btn" type="button">sIGN In</button>
      </li>
    </ul>
  </div>
  `,{onShow:a=>{a.element().querySelector(".auth-close-btn").onclick=a.close,document.addEventListener("keydown",e),document.body.style.overflow="hidden"},onClose:a=>{j(),z(),document.removeEventListener("keydown",e),document.body.style.overflow="visible"}});t.show(),document.querySelector(".basicLightbox").style.backgroundColor="#4f2ee8";function e(a){a.key==="Escape"&&t.close()}const s=document.querySelector(".auth-modal"),r=document.querySelector("#auth-name"),o=document.querySelector(".auth-form"),n=document.querySelector(".auth-submit-btn"),i=document.querySelector(".sign-in-btn"),f=document.querySelector(".sign-up-btn");i.addEventListener("click",a=>{r.classList.add("auth-name-hidden"),i.classList.add("current-sign"),f.classList.remove("current-sign"),s.classList.add("auth-modal-sign-in"),n.textContent="Sign in",r.removeAttribute("required")}),f.addEventListener("click",a=>{r.classList.remove("auth-name-hidden"),i.classList.remove("current-sign"),f.classList.add("current-sign"),s.classList.remove("auth-modal-sign-in"),n.textContent="Sign up",r.setAttribute("required","true")}),o.addEventListener("submit",E);async function E(a){a.preventDefault();const I=a.target.elements[3].textContent.toLowerCase(),b=a.target.elements.name.value.trim(),g=a.target.elements.email.value.trim(),w=a.target.elements.password.value.trim();if(I==="sign up")try{const A=await pe(g,w);if(d==!0){const P={uid:A.uid,name:b,mail:g};l=b,h(x,P),de(),o.reset(),t.close(),c(!0,"Registration successfull!")}}catch{c(!1,"Error")}if(I==="sign in")try{const A=await he(g,w);if(d==!0){const P={uid:A.uid,name:l,mail:g};h(x,P),fe(),location.reload(),o.reset(),t.close(),c(!0,"Signed in successfull!")}}catch{c(!1,"Error")}}}async function Ae(t,e){try{return(await se(X,t,e)).user}catch(s){throw c(!1,"Server Error"),console.error("Registration error:",s.message),s}}async function ye(t,e){try{return await(await oe(X,t,e)).user}catch(s){throw c(!1,"Server Error"),console.error("Sign-in error:",s.message),s}}async function pe(t,e){try{const s=await Ae(t,e);return d=!0,u=s.uid,await s}catch{d=!1,l="",u="",console.log("Registration error!"),c(!1,"Registration error!")}}async function he(t,e){try{const s=await ye(t,e);return d=!0,u=await s.uid,l=await me(),s}catch{d=!1,l="",u="",console.log("Login error!"),c(!1,"Login error!")}}function G(){Q("user-data"),u="",l="",d=!1}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".btn-register-login"),e=document.getElementById("popupContainer");t.addEventListener("click",function(){e.style.display=e.style.display==="block"?"none":"block"}),document.addEventListener("click",function(s){!t.contains(s.target)&&!e.contains(s.target)&&(e.style.display="none")})});const Ie=document.querySelector(".btn-register");Ie.addEventListener("click",J);const be=document.querySelector(".btn-popup");be.addEventListener("click",()=>{G(),location.reload()});const He=window.location.pathname,D=document.querySelectorAll(".item-menu-header"),Y=document.querySelectorAll(".nav-menu-link");function ve(){He.includes("/shopping-list.html")?(D[1].classList.add("is-active-burger"),Y[1].classList.add("is-active-burger")):(D[0].classList.add("is-active-burger"),Y[0].classList.add("is-active-burger"))}ve();const ke="data:image/png;base64,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",Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN4SURBVHgB7VdLaBRBEH3Vk91VokYFv/EQA0bjwQ8i8RAEiRc/KCp4EsWLN8GDiF48BmL8YC4aUERv6inghxwSEUQCQTQBMRdjkHzRIEmUmM1ulzUzSXZ6ZnZ2jOstBc1sd7+uel1d1V0LLIgrFDXJD1NVWZ2pJdAqBSTB0XifZtYa0wwetBJWJ51Of8oPDTN+H5sZicfyczv+VWwL7PzqJTVdR2fRFwYxCTQnt7DFHTJVhmILI0NJ7KIz6W7vcEkAR3gJrYpPYNZemp8wo5poxj8iyovI3E0eFxYVzrQ09n2L0bSmzdnm1AGTmUeIaR+zeULs+xZDJNAPyedFOAlNlWEJQCVLgcrDQKJU2GSBsT5wf5tMKBNXvhdYWglYSWByGBjpBP8aCuojrPf2zZhgShmxKudAuy+DdlwAUstMRSPvwK2nwBNfQaXlwP57oA17TWtTY0BnA7irCYYvNZZ4YcZWdFYpAWC2UcVRUM3VAAFH1uwSww8EJ0SPtAQJ2JIqA9XWgypPwKtXNqciPOF4I9cv3YAoofV7wMuqgZXVkTgsWiPGvR42j9wkoX3xwDEuyBXbCmNsPV7dPrUBEt4soDgpQYnCGDvNPST8W/OR8EF0DE/EIco+Xb7d+WJC/f2FMB8SiIqJLJwkNhbHMRAHY8RXlCdstga28HFwnOB1AtPTpwhP2MFDzstiM7ULAhQuIDQKikNUq7xLAjHB7BJw+zF2GTN42WOZaJ4xwb/lCv7e6/Cj8p3hmOw0MCqYScGurgItXp4jGvuesHfOvh0MdEE/vyJF2ntRlHEHFy2HqjkHVXdpDq/bb4I77oAnf8xtxCarjjWFZEcUCS2+oFw9xh9boDsfyfg0cuzI2al+1Sgvj+UQ16310G9uuRCaCUI7tvo/IHu7VjxSZnqMI0hIPTHhRrvLmsdHc4ZDQlS3XQcqauWVfOoSmvGe8YUl3vkJ463UPJWXhFQ9Q/mc5glX7wrg82uZs6QWibvGHqcv3r7xpCpWz+w0DbSZB8j+BueVOxfSEKKH3fep3WuXfMwpfXFtjxxnFf6f9CUbhzcinyfs3CDLOilezsylVTFbFuMJooN+Vso/kGwY6EoksEnc0lusCttNUe5mUjV0bSjwTyzyups6v3YrlVi75RTXiY8S8R6KWc1S97FKy4pvbOFt6sZgDxakgPwBnSGqSUuOBR0AAAAASUVORK5CYII=";document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".support-btn"),e=document.querySelector(".support-list");t.addEventListener("click",function(){t.classList.contains("scroll-up")?(e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),t.classList.remove("scroll-up")):(e.scrollTo({top:0,behavior:"smooth"}),t.classList.add("scroll-up"))})});const Ce=document.querySelector(".form-footer");Ce.addEventListener("submit",Se);async function Se(t){t.preventDefault();const e=t.target,s=e.elements.phone.value.trim();s!==""&&(await Le(s),c(!0,"We`l call you in 1 hour!"),e.reset())}async function Le(t){const e=new Date,s=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),n=e.getHours(),i=e.getMinutes(),f=e.getSeconds(),E=Date.now(),a=`${s}-${r}-${o}`,I=`${n}:${i}:${f}`,b={phoneNumber:t,currentTime:I};try{const g=S(L,`callbacks/${a}/${E}`),w=await F(g,b)}catch(g){c(!1,"Server Error"),console.error("Error while phone number to Realtime Database:",g)}}let K=()=>{let t=document.querySelector(".scroll-container");document.documentElement.scrollTop>100?t.style.display="grid":t.style.display="none",t.addEventListener("click",()=>{document.documentElement.scrollTop=0})};window.addEventListener("scroll",K);window.addEventListener("load",K);export{ke as a,Ze as b,c,V as d,h as e,d as f,we as g,Pe as h,B as i,Be as j,re as r,de as s};
//# sourceMappingURL=scroll-up-e8294e7f.js.map
