import{a as B,i as Z,c as X,g as W,d as z,b as j,r as L,s as J,o as U,e as G,f as K}from"./vendor-76990a4b.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const $={bookIdsLSKey:"booksId"};async function Le(t,e=""){B.defaults.baseURL="https://books-backend.p.goit.global/books/";let s={};if(e){const r=e.split(" ").join("%20");s.category=r}return await B.get(t,{params:s,paramsSerializer:r=>Object.keys(r).map(o=>`${o}=${r[o]}`).join("&")})}function b(t,e){try{const s=JSON.stringify(e);localStorage.setItem(t,s)}catch(s){console.error("Error adding to localStorage:",s)}}function _(t){try{localStorage.getItem(t)&&localStorage.removeItem(t)}catch(e){console.error("Error removing from localStorage:",e)}}function ee(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(e){return console.error("Error getting from localStorage:",e),null}}const N=document.querySelector(".loader-container"),Se=()=>{N.classList.remove("visually-hidden")},Ee=()=>{N.classList.add("visually-hidden")},te=document.querySelector(":root"),se=document.querySelector("#toggle");se.addEventListener("click",oe);function oe(t){t.preventDefault(),te.classList.toggle("dark-theme")}function d(t,e){return t?Z.show({title:"Success",titleColor:"#fff",titleSize:"16",titleLineHeight:"1.5",message:e,messageColor:"#fff",messageSize:"16",messageLineHeight:"1.5",backgroundColor:"#59a10d",position:"topRight"}):Z.show({title:"Error",titleColor:"#fff",titleSize:"16",titleLineHeight:"1.5",message:e,messageColor:"#fff",messageSize:"16",messageLineHeight:"1.5",backgroundColor:"#ef4040",position:"topRight"})}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("menuBtn"),e=document.getElementById("closeBtn"),s=document.getElementById("modalBackdrop");t.addEventListener("click",r),e.addEventListener("click",r);function r(){s.style.display==="flex"?(n(),document.body.style.overflow="visible",t.classList.add("is-open-burger"),t.classList.remove("is-closed-burger"),e.classList.add("is-closed-burger"),e.classList.remove("is-open-burger")):(o(),document.body.style.overflow="hidden",t.classList.add("is-closed-burger"),t.classList.remove("is-open-burger"),e.classList.add("is-open-burger"),e.classList.remove("is-closed-burger"))}function o(){s.style.display="flex",setTimeout(()=>{s.style.opacity=1,s.style.transform="translateY(0)"},10)}function n(){s.style.opacity=0,s.style.transform="translateY(20px)",setTimeout(()=>{s.style.display="none"},300)}s.addEventListener("click",function(c){c.target===s&&(n(),toggleButtons())})});const re=document.querySelector(".btn-burger"),A=document.querySelector(".btn-register-modal"),y=document.querySelector(".btn-sign-in"),m=document.querySelector(".btn-sign-logout");re.addEventListener("click",x);function x(){u?(A.classList.add("is-closed-burger"),y.classList.add("is-open-burger"),m.classList.add("is-open-burger"),A.classList.remove("is-open-burger"),y.classList.remove("is-closed-burger"),m.classList.remove("is-closed-burger")):(A.classList.add("is-open-burger"),y.classList.add("is-closed-burger"),m.classList.add("is-closed-burger"),A.classList.remove("is-closed-burger"),y.classList.remove("is-open-burger"),m.classList.remove("is-open-burger"))}m.addEventListener("click",()=>{O(),location.reload()});A.addEventListener("click",F);const v="/project-bookworms/assets/icons-0b2e748f.svg",{bookIdsLSKey:k}=$,q="user-data",g=ee("user-data");let a=g&&g.name?g.name:"",l=g&&g.uid?g.uid:"",u=!!a;const I=document.querySelector(".btn-register-login"),h=document.querySelector(".btn-register"),ne=document.querySelector(".name-user-login"),ie=document.querySelector(".user-name-modal");function Y(){u?(I.classList.add("is-open-register"),I.classList.remove("is-closed-register"),h.classList.add("is-closed-register"),h.classList.remove("is-open-register"),ne.textContent=a,ie.textContent=a):(I.classList.add("is-closed-register"),I.classList.remove("is-open-register"),h.classList.add("is-open-register"),h.classList.remove("is-closed-register"))}Y();const ae={apiKey:"AIzaSyAU9vmqTZLyoAQQ-FXLYuEWvBcdBAw2N_s",authDomain:"bookworms-de9f1.firebaseapp.com",databaseURL:"https://bookworms-de9f1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bookworms-de9f1",storageBucket:"bookworms-de9f1.appspot.com",messagingSenderId:"67746495730",appId:"1:67746495730:web:2051c7fd00eaf14945646b"},Q=X(ae),V=W(Q),S=z(Q);async function ce(t=[]){const e={name:a,uid:l,shopList:t};try{const s=L(S,`users/${e.uid}`),r=await J(s,e)}catch(s){console.error("Error while saving shoplist to Realtime Database:",s)}}function le(t=l){return new Promise(e=>{const s=L(S,`users/${t}`);U(s,r=>{const o=r.val();e(o?o.name:"")})})}async function ue(t=l){return await le(t)}function de(t=l){const e=L(S,`users/${t}`);U(e,s=>{const r=s.val();r?r.shopList?b(k,r.shopList):b(k,[]):console.log("error while copying from Realtime Database to localstorage")})}function F(){const t=j.create(`
  <div class="auth-modal">
    <button class="auth-close-btn" type="button">
      <svg class="auth-close-icon" width="20" height="20">
        <use href="${v}#icon-x-close"></use>
      </svg>
    </button>

    <form class="auth-form">
      <div class="auth-inputs-wrapper">
        <input
          class="auth-form-input"
          type="text"
          name="name"
          id="auth-name"
          placeholder="name"
          maxlength="20"
          required
        />

        <div class="auth-email-wrapper">
          <input
            class="auth-form-input"
            type="email"
            name="email"
            id="auth-email"
            placeholder="email"
            required
          />
          <svg class="auth-input-icon-mail" width="15" height="12">
            <use href="${v}#icon-mail"></use>
          </svg>
        </div>

        <div class="auth-password-wrapper">
          <input
            class="auth-form-input"
            type="password"
            name="password"
            id="auth-password"
            placeholder="password"
            maxlength="20"
            required
          />
          <svg class="auth-input-icon-mail" width="14" height="14">
            <use href="${v}#icon-lock"></use>
          </svg>
        </div>
      </div>

      <button class="auth-submit-btn" type="submit">Sign up</button>
    </form>

    <ul class="auth-sign-list">
      <li class="auth-sign-item">
        <button class="sign-up-btn current-sign" type="button">sign up</button>
      </li>

      <li class="auth-sign-item">
        <button class="sign-in-btn" type="button">sIGN In</button>
      </li>
    </ul>
  </div>
  `,{onShow:i=>{i.element().querySelector(".auth-close-btn").onclick=i.close,document.addEventListener("keydown",e),document.body.style.overflow="hidden"},onClose:i=>{Y(),x(),document.removeEventListener("keydown",e),document.body.style.overflow="visible"}});t.show(),document.querySelector(".basicLightbox").style.backgroundColor="#4f2ee8";function e(i){i.key==="Escape"&&t.close()}const s=document.querySelector(".auth-modal"),r=document.querySelector("#auth-name"),o=document.querySelector(".auth-form"),n=document.querySelector(".auth-submit-btn"),c=document.querySelector(".sign-in-btn"),H=document.querySelector(".sign-up-btn");c.addEventListener("click",i=>{r.classList.add("auth-name-hidden"),c.classList.toggle("current-sign"),H.classList.toggle("current-sign"),s.classList.add("auth-modal-sign-in"),n.textContent="Sign in",r.removeAttribute("required")}),H.addEventListener("click",i=>{r.classList.remove("auth-name-hidden"),c.classList.toggle("current-sign"),H.classList.toggle("current-sign"),s.classList.remove("auth-modal-sign-in"),n.textContent="Sign up",r.setAttribute("required","true")}),o.addEventListener("submit",T);async function T(i){i.preventDefault();const E=i.target.elements[3].textContent.toLowerCase(),w=i.target.elements.name.value.trim(),p=i.target.elements.email.value.trim(),P=i.target.elements.password.value.trim();if(E==="sign up")try{const f=await Ae(p,P);if(u==!0){const C={uid:f.uid,name:w,mail:p};a=w,b(q,C),ce(),o.reset(),t.close(),d(!0,"Registration successfull!")}}catch{d(!1,"Error")}if(E==="sign in")try{const f=await me(p,P);if(u==!0){const C={uid:f.uid,name:a,mail:p};b(q,C),de(),o.reset(),t.close(),d(!0,"Signed in successfull!")}}catch{d(!1,"Error")}}}async function ge(t,e){try{return(await G(V,t,e)).user}catch(s){throw console.error("Registration error:",s.message),s}}async function fe(t,e){try{return await(await K(V,t,e)).user}catch(s){throw console.error("Sign-in error:",s.message),s}}async function Ae(t,e){try{const s=await ge(t,e);return u=!0,l=s.uid,await s}catch{u=!1,a="",l="",console.log("Registration error!"),d(!1,"Registration error!")}}async function me(t,e){try{const s=await fe(t,e);return u=!0,l=await s.uid,a=await ue(),s}catch{u=!1,a="",l="",console.log("Login error!"),d(!1,"Login error!")}}function O(){_("user-data"),l="",a="",u=!1}const pe=document.getElementById("toggle"),ye=document.querySelector(".switch-slider"),Ie=document.querySelector(".label-header");pe.addEventListener("change",function(){ye.classList.toggle("active"),Ie.style.background=this.checked?"linear-gradient(180deg, #4f2ee8 0%, #686868 100%)":"linear-gradient(180deg, #4f2ee8 0%, #fff 100%)"});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".btn-register-login"),e=document.getElementById("popupContainer");t.addEventListener("click",function(){e.style.display=e.style.display==="block"?"none":"block"}),document.addEventListener("click",function(s){!t.contains(s.target)&&!e.contains(s.target)&&(e.style.display="none")})});const he=document.querySelector(".btn-register");he.addEventListener("click",F);const be=document.querySelector(".btn-popup");be.addEventListener("click",()=>{O(),location.reload()});const He=window.location.pathname,R=document.querySelectorAll(".item-menu-header"),M=document.querySelectorAll(".nav-menu-link");function Ce(){He.includes("/shopping-list.html")?(R[1].classList.add("is-active-burger"),M[1].classList.add("is-active-burger")):(R[0].classList.add("is-active-burger"),M[0].classList.add("is-active-burger"))}Ce();const we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAUCAMAAADiKH4mAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAAL9UExURUdwTCAgICMgICAgICIgICEhIQAAACIfHyIfHyMfHyMfHyAgICEfHyEfHyIfHyIfHyAgICIfHzMzMyIfHyIfHyIgICIfHyIfH///ACIfH/+ZACEfH/+aACIfH/+ZACIfHyEfHyEfHyQfHyIfHyIgICEfH0BAQCIfHyEfHyEeHh8eHiIfHyIeHiIfHyIeHiIeHv+ZAP+UAP+WAB8cHCcdHSEhIRcXFyIgICIfHyEhISIiIiIgICAdHSIeHiIfHyQdHSIgICMfH/+cACEfHyAgICIgIP+ZACQgIB4eHiIdHSIfHyMfHyIeHgAAACIfHyMgICIfHyQkJCMfHyIeHjAAACEeHiAeHh4eHiEfH/+ZAP+ZACIgICIeHv+SACYcHCAaGiQbGyIgICEeHhgYGCIfHyEfHyAdHSMfHyAgICIdHSIfHyIfHyMfHyIfHxsbGyIfHyIfH/+ZACIgIP+YAP9uACAQEP+ZAP+aAP+ZACIfH/+WACIfHyIeHh8fHyMgIB8fHyQfH/+aAP+VAP+ZAP+ZAP+ZAP+aAP+ZAP+YAP+aAP+ZAFVVVf+bAP+YACEhIf+YAP+ZACIeHiIfHyMhIf+lAP+eAP+ZACkfHyEfHyEfHyIiIv+aAP+aAP+ZAP+ZAP+XAP+XACEdHf+ZACIiIiAeHv+aAP+YAP+YAP+aACIeHv+aAP+aACMfH/+fACIfH/+qACMfH/+WACIgIP+ZAP+cACAdHRUVFf+WACMeHv+ZAP+hAP+ZAP+XAP+bAP+ZAP+aAP+YAP+aACEfHyMfHyMgICIfH/+YABsbGyIgIP+ZACIfHyMgICQkJCIfHyAgICIiIiEfHyAgICEdHR8fHyIgICMfHyMfHyEeHiIeHv+ZACIeHiEfHyAeHiEgICIfHyQeHiIfH/+aACMeHiEdHSEeHiIgICQkJCIfHwAAACMeHiIfHyUhISUZGSoVFSAVFSIeHiIgICIfH/+ZAP+ZAP+bAP+ZAP+ZAP+aAP+WAP+5AP+aAP+ZAP+YACIfH/+ZAN/mhKAAAAD9dFJOUwB+WAivLgHp5nQ6GPR6p+oQnAWdlnH+rgHvHmR5+v73znwyS2nIBNj1qDDoy/1E+18TPSUNEQt36BcPiCfClzSHdRRJU24FQCpyXeTSAoSZrwdCmgMrNyJs+1l/4w4aExywVBXc5SMWIGmkSuy8Du6t+PIlAxA6VCClR/JgKbEZOPQpicO0cg/T1uADXpQv2vJD0WURIpsZ94oepiu73iZlk6omZm9P1T9M8tvFCI0DezNZPENHDD9fChPwUXvP8490k7+R34MmeaPUkCr4TzX2R04yudb7sbTNf3R+umKH3miwglbiK1IGm/NFKQwYueq16a9K3Sj+OAv8+l5LYxenAAACt0lEQVQ4y43RVXCVVxRA4RXCvbkB0sYhxANRIri7Q4s7BAIUCG6luNXdXam7u7u7u7u7t+sfHm4LNENJ1tOZ2fvbLwdg04Jhiw4A5g3dr3vlokQ63jIgEaBTq7feLQA6hkKhUCjUDZj/7AtNgcShHZgwuwDg281V6pxPoY0pJ+m+BcX6yEz4bJma/lSYE1W1B8k9srVraxikC57Rj4AvrBi9XD+EOOeqFquOZGbE90fN1Sb0ycjIyNbreVyXvOLzz9FPI+qGLYTL09dBoZ8UEefiibN12VeV6TanMrdiEgN1GMBZZ1jduSjOQsYsdiH99LXa77QM+Dx56dZyI7HE+QPjq1wC37sZ+GbEvDRNAI7O07G8pG/C65YUxWsfNupWYHKeGuWl8KWzIM7GsClppUZ5Fx0HwzUNUrQmXrfQSJtAqq77OC/K94ISG8PeNmZ+tcVpb2sCdGjmnBmwUdNgnNbGa9Mon5Ttcnh5B2/2L5+mXzNWEwjn6RBgiOZDqeljdvKJ+jCxETfU/oc3Z6HW0EVTOVnN3SfpsaVVvkNytb3YyS+qMDJ8lvpeHZ6qqZPbaNfTk6L//hApvprfWxvtwsOlau7IksiAOnzCSvXq3o5OTCnve/uN0wp70e1J1WvDu3BqLr7gzDIGlkHrmFYwKObFf149+z6Y2T05szOdYle1639duCfcmpk06ooRcFxM/niejomZwY5uvoP/ae399wXBXTexx7ZddkmL3U/a333b6geCS/fMOfX4o7Ja7nZy5z1rbgjOqYdz+ME5Bx46te6F6W0vXHHvtrbnUX8HHRIEwVVPZP386x/A4Jbrs047YkpwwvnXcO4xNKT2Z18ZBEEQBH+u+CsnCIIg58jD2sEpx7agYfX/4KdfpkRP/PbjG49ePhiAhmqAVWt/Xz/17zWr959e3+Z2qxt7sh9tvWcAAAAASUVORK5CYII=",Pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN4SURBVHgB7VdLaBRBEH3Vk91VokYFv/EQA0bjwQ8i8RAEiRc/KCp4EsWLN8GDiF48BmL8YC4aUERv6inghxwSEUQCQTQBMRdjkHzRIEmUmM1ulzUzSXZ6ZnZ2jOstBc1sd7+uel1d1V0LLIgrFDXJD1NVWZ2pJdAqBSTB0XifZtYa0wwetBJWJ51Of8oPDTN+H5sZicfyczv+VWwL7PzqJTVdR2fRFwYxCTQnt7DFHTJVhmILI0NJ7KIz6W7vcEkAR3gJrYpPYNZemp8wo5poxj8iyovI3E0eFxYVzrQ09n2L0bSmzdnm1AGTmUeIaR+zeULs+xZDJNAPyedFOAlNlWEJQCVLgcrDQKJU2GSBsT5wf5tMKBNXvhdYWglYSWByGBjpBP8aCuojrPf2zZhgShmxKudAuy+DdlwAUstMRSPvwK2nwBNfQaXlwP57oA17TWtTY0BnA7irCYYvNZZ4YcZWdFYpAWC2UcVRUM3VAAFH1uwSww8EJ0SPtAQJ2JIqA9XWgypPwKtXNqciPOF4I9cv3YAoofV7wMuqgZXVkTgsWiPGvR42j9wkoX3xwDEuyBXbCmNsPV7dPrUBEt4soDgpQYnCGDvNPST8W/OR8EF0DE/EIco+Xb7d+WJC/f2FMB8SiIqJLJwkNhbHMRAHY8RXlCdstga28HFwnOB1AtPTpwhP2MFDzstiM7ULAhQuIDQKikNUq7xLAjHB7BJw+zF2GTN42WOZaJ4xwb/lCv7e6/Cj8p3hmOw0MCqYScGurgItXp4jGvuesHfOvh0MdEE/vyJF2ntRlHEHFy2HqjkHVXdpDq/bb4I77oAnf8xtxCarjjWFZEcUCS2+oFw9xh9boDsfyfg0cuzI2al+1Sgvj+UQ16310G9uuRCaCUI7tvo/IHu7VjxSZnqMI0hIPTHhRrvLmsdHc4ZDQlS3XQcqauWVfOoSmvGe8YUl3vkJ463UPJWXhFQ9Q/mc5glX7wrg82uZs6QWibvGHqcv3r7xpCpWz+w0DbSZB8j+BueVOxfSEKKH3fep3WuXfMwpfXFtjxxnFf6f9CUbhzcinyfs3CDLOilezsylVTFbFuMJooN+Vso/kGwY6EoksEnc0lusCttNUe5mUjV0bSjwTyzyups6v3YrlVi75RTXiY8S8R6KWc1S97FKy4pvbOFt6sZgDxakgPwBnSGqSUuOBR0AAAAASUVORK5CYII=";document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".support-btn"),e=document.querySelector(".support-list");t.addEventListener("click",function(){t.classList.contains("scroll-up")?(e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),t.classList.remove("scroll-up")):(e.scrollTo({top:0,behavior:"smooth"}),t.classList.add("scroll-up"))})});let D=()=>{let t=document.querySelector(".scroll-container");document.documentElement.scrollTop>100?t.style.display="grid":t.style.display="none",t.addEventListener("click",()=>{document.documentElement.scrollTop=0})};window.addEventListener("scroll",D);window.addEventListener("load",D);export{we as a,Pe as b,ee as c,b as d,u as e,Se as f,Le as g,Ee as h,v as i,$ as r,ce as s};
//# sourceMappingURL=scroll-up-f9f67f9a.js.map
