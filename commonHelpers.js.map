{"version":3,"file":"commonHelpers.js","sources":["../src/js/header.js","../src/js/categories.js","../src/js/loader.js","../src/js/bestsellers.js","../src/js/scroll-up.js","../src/js/local-storage-functions.js","../src/js/modal-authorization.js"],"sourcesContent":["const toggleSwitch = document.getElementById('toggle');\n        const switchSlider = document.querySelector('.switch-slider');\n        const labelHeader = document.querySelector('.label-header');\n\n        toggleSwitch.addEventListener('change', function () {\n            switchSlider.classList.toggle('active');\n            labelHeader.style.background = this.checked ? 'linear-gradient(180deg, #4f2ee8 0%, #686868 100%)' : 'linear-gradient(180deg, #4f2ee8 0%, #fff 100%)';\n        });\n","import axios from 'axios';\n\n\nconst categoryListEl = document.querySelector('.categories-list');\n\nconsole.log(categoryListEl);\n\nconst categoriesArray = async () => {\n  const response = await axios.get(\n    'https://books-backend.p.goit.global/books/category-list'\n  );\n  const data = await response;\n\n  return data;\n};\n\n\n\nexport async function renderCategories() {\n  try {\n    const array = await categoriesArray();\n    const inAlphabeticalOrder = array.data.sort((a, b) =>\n      a.list_name.localeCompare(b.list_name)\n    );\nconsole.log(inAlphabeticalOrder);\n    for (const arr of inAlphabeticalOrder) {\n      const listItem = document.createElement('li');\n      const catLink = document.createElement('a');\n\n      catLink.classList.add('categories-link');\n      catLink.textContent = `${arr.list_name}`;\n      listItem.setAttribute('data-id', arr.list_name);\n      categoryListEl.appendChild(listItem);\n      listItem.appendChild(catLink);\n    }\n    console.log(array.data);\n\n\n  } catch (error) {\n    console.log(error);\n  }\n}\n// -----------------------1category\n\n// import Notiflix from 'notiflix';\n// categoryListEl.addEventListener('click', onCategoryClick);\n\n// async function onCategoryClick(event) {\n//   event.preventDefault();\n\n//   if (!event.target.classList.contains('category-btn')) return;\n\n//   if (event.target.classList.contains('all-categories-btn')) {\n//     mainTitle.innerHTML = `Best Seller <span class=\"main-title--last-word-static\">Books</span>`;\n  \n//     await renderTopBooks();\n//     return;\n//   }\n\n//   const id = event.target.dataset.id;\n\n//   const data = await fetchSelectedBooks(id);\n//   renderMainTitle(id);\n\n//   renderBooksByCategory(data);\n//   scrollToTop();\n// }\n\n// export async function fetchSelectedBooks(category) {\n// //   Notiflix.Loading.dots('Please wait');\n//   const categoriesArray = async category => {\n//     const response = await axios.get(\n//       `https://books-backend.p.goit.global/books/category?category=${category}`\n//     );\n//     const data = await response;\n    \n//     // Notiflix.Loading.remove();\n//     return data;\n//   };\n//   try {\n   \n//     // Notiflix.Loading.remove();\n  \n//     return categoriesArray(category);\n//   } catch (error) {\n//     // Notiflix.Loading.remove();\n//     // Notiflix.Notify.failure('Something went wrong. Please try again');\n//     console.log(error);\n//   }\n// }\n// categoryListEl.addEventListener('click', onCategoryClick);\n//  async function onCategoryClick(event) {\n//     const link = event.target.classList.contains('categories-link');\n//     console.log(link);\n//     const id = event.target.dataset;\n//     console.log(id);\n// }\n// onCategoryClick();\n\nrenderCategories();\n","\nconst showLoader = () => {\n    const loader = document.createElement('span');\n    loader.classList.add('loader');\n    document.body.append(loader);\n};\n\nconst hideLoader = () => {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.remove();\n    }\n};\n\nwindow.addEventListener(\"load\", () => {\n    const loader = document.querySelector(\".loader\");\n    loader.classList.add('visually-hidden');\n\n    loader.addEventListener(\"transitioned\", () => {\n        document.body.removeChild(\"loader\");\n    })\n})","console.log('bestsellers');\n// Функція для створення розмітки для назв категорії\nfunction booksCategoryTemplate(categoryName, categoryBooks){\nconst words = categoryName.split(' ');\nconst lastWord = words.pop();\nwords.push(`<span class=\"akcent\">&{lastWord}</span>`);\nreturn `\n<section class=\" seller__section\">\n<h1 class=\"section__title categoty-card__title\">${words.join(' ')}</h1>\n<ul class=\"sellers-delete flex-wrap\">${renderMarkup( booksTemplate, categoryBooks)}</ul></section>`;\n}\n\n// Функція для створення розмітки для окремої книги\nfunction booksTemplate({ book__image, title, author, _id}){\n    return `\n    <li class=\"sellers-item\" data-id=\"${_id}\">\n    <div class=\"book-image__wrapper\">\n    <img class=\"book-image\"\n    src=\"${book__image}\"\n    alt=\"${title}\"></div>\n    <h3 class=\"book-title\">${title}</h3>\n    <p class=\"book-author\">${author}</p>\n    </li>`;\n}\n","let calcScrollValue = () => {\n    let scrollProgress = document.querySelector('.scroll-container');\n    let progressValue = document.querySelector('.scroll-btn');\n    let pos = document.documentElement.scrollTop\n    let calcHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n    if (pos > 100) {\n        scrollProgress.style.display = \"grid\";\n    } else {\n        scrollProgress.style.display = \"none\";\n    }\n    scrollProgress.addEventListener(\"click\", () => {\n        document.documentElement.scrollTop = 0;\n    });\n\n};\n\nwindow.addEventListener('scroll', calcScrollValue);\nwindow.addEventListener('load', calcScrollValue);\n\n\n\n","export function addToLS(key, value) {\n  try {\n    const data = JSON.stringify(value);\n    localStorage.setItem(key, data);\n  } catch (error) {\n    console.error('Error adding to localStorage:', error);\n  }\n}\n\nexport function removeFromLS(key) {\n  try {\n    if (localStorage.getItem(key)) {\n      localStorage.removeItem(key);\n    }\n  } catch (error) {\n    console.error('Error removing from localStorage:', error);\n  }\n}\n\nexport function getFromLS(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : null;\n  } catch (error) {\n    console.error('Error getting from localStorage:', error);\n    return null;\n  }\n}\n","import * as basicLightbox from 'basiclightbox';\nimport { addToLS } from './local-storage-functions';\nimport { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n} from 'firebase/auth';\n\nconst AUTH_KEY_LS = 'user-data';\n\n//open authoriztion modal\nexport function openAuthModal() {\n  // authModal.classList.remove('is-hidden');\n\n  //creating basiclightbox\n  const authInstance = basicLightbox.create(\n    `\n  <div class=\"auth-modal\">\n    <button class=\"auth-close-btn\" type=\"button\">\n      <svg class=\"auth-close-icon\" width=\"20\" height=\"20\">\n        <use href=\"./img/icons.svg#icon-x-close\"></use>\n      </svg>\n    </button>\n\n    <form class=\"auth-form\">\n      <div class=\"auth-inputs-wrapper\">\n        <input\n          class=\"auth-form-input\"\n          type=\"text\"\n          name=\"name\"\n          id=\"auth-name\"\n          placeholder=\"name\"\n          required\n        />\n\n        <div class=\"auth-email-wrapper\">\n          <input\n            class=\"auth-form-input\"\n            type=\"email\"\n            name=\"email\"\n            id=\"auth-email\"\n            placeholder=\"email\"\n            required\n          />\n          <svg class=\"auth-input-icon\" width=\"18\" height=\"18\">\n            <use href=\"./img/icons.svg#icon-mail\"></use>\n          </svg>\n        </div>\n\n        <div class=\"auth-password-wrapper\">\n          <input\n            class=\"auth-form-input\"\n            type=\"password\"\n            name=\"password\"\n            id=\"auth-password\"\n            placeholder=\"password\"\n            required\n          />\n          <svg class=\"auth-input-icon\" width=\"18\" height=\"18\">\n            <use href=\"./img/icons.svg#icon-lock\"></use>\n          </svg>\n        </div>\n      </div>\n\n      <button class=\"auth-submit-btn\" type=\"submit\">Sign up</button>\n    </form>\n\n    <ul class=\"auth-sign-list\">\n      <li class=\"auth-sign-item\">\n        <button class=\"sign-up-btn current-sign\">sign up</button>\n      </li>\n\n      <li class=\"auth-sign-item\">\n        <button class=\"sign-in-btn\">sign in</button>\n      </li>\n    </ul>\n  </div>\n  `,\n    {\n      onShow: instance => {\n        instance.element().querySelector('.auth-close-btn').onclick =\n          instance.close;\n      },\n    }\n  );\n\n  //basiclightbox instance show\n  authInstance.show();\n\n  //refs\n  const authCloseBtn = document.querySelector('.auth-close-btn');\n  const authModal = document.querySelector('.auth-modal');\n  const authNameInput = document.querySelector('#auth-name');\n  const authForm = document.querySelector('.auth-form');\n  const authSubmitBtn = document.querySelector('.auth-submit-btn');\n  const authSignInBtn = document.querySelector('.sign-in-btn');\n  const authSignUpBtn = document.querySelector('.sign-up-btn');\n\n  //sign in pressed\n  authSignInBtn.addEventListener('click', e => {\n    //hide name input\n    authNameInput.classList.add('auth-name-hidden');\n    //highlight the current selection\n    authSignInBtn.classList.toggle('current-sign');\n    //remove highlight of the previous selection\n    authSignUpBtn.classList.toggle('current-sign');\n    //change height of modal without name input\n    authModal.classList.add('auth-modal-sign-in');\n    //renaming button\n    authSubmitBtn.textContent = 'Sign in';\n  });\n\n  //sign up pressed\n  authSignUpBtn.addEventListener('click', e => {\n    //hide name input\n    authNameInput.classList.remove('auth-name-hidden');\n    //highlight the current selection\n    authSignInBtn.classList.toggle('current-sign');\n    //remove highlight of the previous selection\n    authSignUpBtn.classList.toggle('current-sign');\n    //change height of modal without name input\n    authModal.classList.remove('auth-modal-sign-in');\n    //renaming button\n    authSubmitBtn.textContent = 'Sign up';\n  });\n\n  authForm.addEventListener('submit', onAuthFormSubmit);\n\n  function onAuthFormSubmit(e) {\n    e.preventDefault();\n\n    //value of button ==> sign in or sign up check\n    const authBtnValue = e.target.elements[3].textContent.toLowerCase();\n\n    //sign in or sign up check\n    if (authBtnValue === 'sign up') {\n      const userName = e.target.elements.name.value.trim();\n      const userEmail = e.target.elements.email.value.trim();\n      const userPassword = e.target.elements.password.value.trim();\n      const userInfo = {\n        id: '',\n        name: userName,\n        mail: userEmail,\n      };\n      console.log(userInfo);\n      addToLS(AUTH_KEY_LS, userInfo);\n    }\n\n    if (authBtnValue === 'sign in') {\n      //has to be check if user/pass is correct\n      //and change state of vars\n      //global let isSignedIn = true;\n      //global let authUser = userName\n      //and close modal\n      //authInstance.close();\n      //header button shows authUser value\n      console.log('log in success');\n    }\n  }\n}\n\n// for header.js\n// import { openAuthModal } from './modal-authorization';\n//open the authoriztion modal, if button Sign up pressed\nconst authOpenModalBtn = document.querySelector(\n  'button[data-action=\"registration\"]'\n);\n\n//check if button 'sign up' in header is pressed\nauthOpenModalBtn.addEventListener('click', openAuthModal);\n\n//! //////////////////////////////////////////////////////////\n//! firebase\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAU9vmqTZLyoAQQ-FXLYuEWvBcdBAw2N_s',\n  authDomain: 'bookworms-de9f1.firebaseapp.com',\n  projectId: 'bookworms-de9f1',\n  storageBucket: 'bookworms-de9f1.appspot.com',\n  messagingSenderId: '67746495730',\n  appId: '1:67746495730:web:2051c7fd00eaf14945646b',\n};\n\nconst app = initializeApp(firebaseConfig);\n\nconst auth = getAuth();\n\n// sign up of new user\nconst registerWithEmailAndPassword = async (email, password) => {\n  try {\n    const userCredential = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n    const user = userCredential.user;\n    console.log('Registered user:', user);\n    return user;\n  } catch (error) {\n    console.error('Registration error:', error.message);\n    throw error;\n  }\n};\n\n// sign in of existing user\n// const signInWithEmailAndPassword = async (email, password) => {\n//   try {\n//     const userCredential = await signInWithEmailAndPassword(\n//       auth,\n//       email,\n//       password\n//     );\n//     const user = userCredential.user;\n//     console.log('Signed in user:', user);\n//     return user;\n//   } catch (error) {\n//     console.error('Sign-in error:', error.message);\n//     throw error;\n//   }\n// };\n\n// sign up\nconst handleRegistration = async () => {\n  try {\n    await registerWithEmailAndPassword(email, password);\n    //  additional actions after successfull sign up\n  } catch (error) {\n    // handle errors\n  }\n};\n\n// sign in\nconst handleSignIn = async () => {\n  try {\n    await signInWithEmailAndPassword(email, password);\n    //  additional actions after successfull sign in\n  } catch (error) {\n    // handle errors\n  }\n};\n\n//! ///////////////////////////\n"],"names":["toggleSwitch","switchSlider","labelHeader","categoryListEl","categoriesArray","axios","renderCategories","array","inAlphabeticalOrder","a","b","arr","listItem","catLink","error","loader","calcScrollValue","scrollProgress","pos","addToLS","key","value","data","AUTH_KEY_LS","openAuthModal","basicLightbox.create","instance","authModal","authNameInput","authForm","authSubmitBtn","authSignInBtn","authSignUpBtn","e","onAuthFormSubmit","authBtnValue","userName","userEmail","userInfo","authOpenModalBtn","firebaseConfig","initializeApp","getAuth"],"mappings":"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"}